<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>ita</title>
</head>

<body>
  <script>
    function lastIndexOf1(str, searchValue, fromIndex) {
      if (!str) return;
      if (fromIndex === undefined) fromIndex = str.length - 1;
      if (fromIndex < 0) fromIndex = 0;
      if (searchValue.length == 0) return fromIndex; //todo

      for (let i = fromIndex + 1; i >= 0; i--) {
        if (str.slice(i - searchValue.length, i) == searchValue) {
          return i - searchValue.length;
        }
      }
      return -1;
    }

    console.log("string".lastIndexOf("i") == lastIndexOf1("string", "i")); // вертає  3
    console.log('морок'.lastIndexOf('о') == lastIndexOf1('морок', 'о')); // вертає  3
    console.log('морок'.lastIndexOf('о', 2) == lastIndexOf1('морок', 'о', 2)); // вертає 1
    console.log('морок'.lastIndexOf('о', 0) == lastIndexOf1('морок', 'о', 0)); // вертає -1
    console.log('морок'.lastIndexOf('м', -5) == lastIndexOf1('морок', 'м', -5)); // вертає 0
    console.log('морок'.lastIndexOf('м', 0) == lastIndexOf1('морок', 'м', 0)); // вертає  0
    console.log('морок'.lastIndexOf('') == lastIndexOf1('морок', '')); // вертає  5   //this one fails
    console.log('морок'.lastIndexOf('', 2) == lastIndexOf1('морок', '', 2)); // вертає  2
    let lowerCase = 'брі, дорблю, камамбер';
    let upperCase = 'Брі, Дорблю, Камамбер';
    console.log(lowerCase.lastIndexOf('дорблю') == lastIndexOf1(lowerCase, 'дорблю')); // вертає  5
    console.log(upperCase.lastIndexOf('дорблю') == lastIndexOf1(upperCase, 'дорблю')); // вертає -1
  </script>
  <h3>JS lastIndexOf() implementation</h3>
</body>

</html>
